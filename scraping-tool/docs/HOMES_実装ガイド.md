# HOME'S スクレイパー実装のための情報収集ガイド

HOME'S のスクレイパーを実装するために、以下の情報を教えてください。

---

## 方法1: ブラウザの開発者ツールでHTMLを取得（推奨）

### 手順

1. **HOME'S で中古マンション検索を実行**
   - https://www.homes.co.jp/mansion/chuko/ にアクセス
   - 条件を設定（例: 関東、駅徒歩5分以内、価格 7500万〜1億など）
   - 検索結果一覧ページを表示

2. **開発者ツールを開く**
   - Windows/Linux: `F12` または `Ctrl+Shift+I`
   - Mac: `Cmd+Option+I`
   - または、ページ上で右クリック → 「検証」/「Inspect」

3. **HTMLをコピー**
   - 開発者ツールの「Elements」タブ（または「要素」タブ）を開く
   - `<html>` タグを右クリック → 「Copy」→「Copy element」または「Copy outerHTML」
   - または、`<body>` タグをコピー

4. **ファイルに保存して共有**
   - コピーしたHTMLをテキストファイル（例: `homes_list_sample.html`）に保存
   - そのファイルを共有するか、内容を貼り付け

### 必要な情報

- **検索URL**: ブラウザのアドレスバーに表示されている完全なURL
  - 例: `https://www.homes.co.jp/mansion/chuko/tokyo/city/?...`
- **HTML**: 上記手順で取得したHTML（全体でなくても、物件カード部分だけでも可）

---

## 方法2: スクリーンショット + URL

### 手順

1. **検索結果一覧ページを表示**
   - 条件を設定して検索
   - 一覧が表示された状態でスクリーンショットを撮る

2. **URLをコピー**
   - ブラウザのアドレスバーから完全なURLをコピー

3. **共有**
   - スクリーンショットとURLを共有

### 補足

- スクリーンショットだけでも、HTML構造の推測は可能ですが、正確な実装にはHTMLが必要です
- 可能なら方法1（HTML取得）を推奨します

---

## 方法3: 簡単な説明だけでも可

以下の情報だけでも、実装の方向性は決まります：

1. **検索URLの形式**
   - 例: `https://www.homes.co.jp/mansion/chuko/tokyo/city/` のような形式か
   - パラメータ（`?` 以降）で条件を指定する形式か

2. **物件カードの見た目**
   - 一覧ページで1件の物件がどのように表示されているか（テキストで説明）

3. **ページネーション**
   - 「次へ」ボタンがあるか、URLパラメータ（`?page=2` など）でページを切り替えるか

---

## 実装に必要な具体的な情報

### 1. 検索URLの構造

**質問**: 以下のような条件で検索した場合、URLはどうなりますか？

- エリア: 関東（または東京）
- 駅徒歩: 5分以内
- 価格: 7500万〜1億円（指定可能なら）
- 専有面積: 55〜75㎡（指定可能なら）
- 間取り: 2LDK〜3LDK（指定可能なら）

**例（SUUMOの場合）**:
```
https://suumo.jp/jj/bukken/ichiran/JJ012FC001/?ar=030&bs=011&hd=S3ksl000&tm=S3ksl000&pc=100
```

### 2. 物件カードのHTML構造

**質問**: 一覧ページで、1件の物件はどのようなHTMLタグで囲まれていますか？

**例（SUUMOの場合）**:
```html
<div class="property_unit-content">
  <dt>物件名</dt>
  <dd>マンション名</dd>
  <dt>販売価格</dt>
  <dd>7699万円</dd>
  ...
</div>
```

### 3. 各項目の取得方法

以下の項目が、HTML上でどのように表現されているか：

- **物件名**: どのタグ・クラス名に含まれているか
- **価格**: 「販売価格」「価格」などのラベルがあるか、クラス名は何か
- **所在地**: どのタグに含まれているか
- **駅・徒歩**: 「最寄駅」「徒歩○分」の形式はどうか
- **専有面積**: 「専有面積」「55.5m²」などの形式はどうか
- **間取り**: 「2LDK」「3LDK」などの形式はどうか
- **築年**: 「築年月」「1982年」などの形式はどうか
- **詳細URL**: 物件詳細ページへのリンクはどこにあるか

---

## 最も簡単な方法: HTMLファイルを1つ共有

1. HOME'S で中古マンション検索（条件は任意）
2. 検索結果一覧ページを表示
3. ページ全体を保存:
   - Windows: `Ctrl+S` → 「ウェブページ、完全」で保存
   - Mac: `Cmd+S` → 「ウェブアーカイブ」または「ページソース」で保存
4. 保存したファイル（`.html` または `.mhtml`）を共有

これだけで、URL・HTML構造・セレクタを全て確認できます。

---

## 現在の実装状況

`homes_scraper.py` には以下のスタブがあります：

- `parse_list_html()`: HTMLをパースして `HomesListing` のリストを返す（現在は空リスト）
- `scrape_homes()`: 一覧ページを取得して `HomesListing` を yield する（現在は動作しない）

**必要な作業**:
1. HOME'S の一覧HTML構造を確認
2. `parse_list_html()` 内のセレクタを実装
3. 各項目（価格・専有・間取り・築年・徒歩）のパース処理を追加

---

## 質問・確認事項

以下のいずれかの方法で情報を共有してください：

1. **HTMLファイル**: 検索結果一覧ページのHTML（`.html` ファイル）
2. **URL + HTMLスニペット**: 検索URLと、物件カード部分のHTML（数行で可）
3. **URL + 説明**: 検索URLと、物件カードの構造の説明（テキスト）

最も簡単なのは「**方法1: HTMLファイルを1つ共有**」です。
